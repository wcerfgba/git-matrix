{
  "version": 3,
  "file": "renderMatrix.js",
  "sourceRoot": "..",
  "sources": [
    "src/renderMatrix.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# @flow\n\n{ range, floor } = require './util'\n\nelMap = (xs) => (f) => (xs.map f).join ''\n\nmatrixToHtml = (matrix ###: CommitMatrix ###) ###: string ### =>\n  layout({ style: stylesheet matrix }) ...[\n    header matrix\n    table matrix\n  ]\n\nCELL_HEIGHT_REMS = 3\n\nstylesheet = (matrix) =>\n  \"\"\"\n  body {\n    max-width: #{bodyMaxWidthRems matrix};\n    margin: 0 auto;\n    background: hsl(240, 50%, 10%);\n    color: #{textColorHsl()};\n  }\n\n  table {\n    table-layout: fixed;\n    width: 100%;\n  }\n\n  col {\n    width: #{columnWidthPercentage matrix};\n  }\n\n  th, td {\n    font-weight: normal;\n    font-size: 1rem;\n    padding: 0.25rem;\n    height: #{CELL_HEIGHT_REMS}rem;\n  }\n\n  th {\n    text-align: left;\n    font-family: monospace;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  td {\n    text-align: center;\n    font-family: sans-serif;\n  }\n\n  [data-tooltip]::after {\n    content: attr(data-tooltip);\n    display: none\n  }\n\n  [data-tooltip]:hover,\n  [data-tooltip]:focus {\n    line-height: 0;\n  }\n\n  [data-tooltip]:hover::after,\n  [data-tooltip]:focus::after {\n    display: block;\n    line-height: 1.5;\n  }\n  \"\"\"\n\nbodyMaxWidthRems = (matrix) =>\n  \"#{numCols(matrix) * CELL_HEIGHT_REMS * 3}rem\"\n\ncolumnWidthPercentage = (matrix) =>\n  ratio = 1 / numCols(matrix)\n  percentage = floor (ratio * 100)\n  \"#{percentage}%\"\n\nnumCols = (matrix) => matrix.emails.length + 1\n\ntextColorHsl = () => \"hsl(0, 0%, 95%)\"\n\nlayout = ({ style }) => (...bodyContent) =>\n  \"\"\"\n  <!DOCTYPE html>\n  <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n      <style>\n        #{style}\n      </style>\n    </head>\n    <body>\n      #{bodyContent.join '\\n'}\n    </body>\n  </html>\n  \"\"\"\n\nheader = (matrix) =>\n  \"\"\"\n  \"\"\"\n\ntable = (matrix) =>\n  \"\"\"\n  <table>\n    <colgroup>\n      #{\n        range(numCols matrix)\n          .map () => \"<col>\"\n          .join '\\n'\n      }\n    </colgroup>\n    <tbody>\n      <tr>\n        <td></td>\n        #{tableHeading({ scope: 'col' }) ...matrix.emails}\n      </tr>\n      #{fileRows matrix}\n    </tbody>\n  </table>\n  \"\"\"\n\ntableHeading = ({ scope }) => (...headings) =>\n  headings\n    .map (heading) => \"<th scope='#{scope}' data-tooltip='#{heading}'>#{heading}</th>\"\n    .join '\\n'\n\nfileRows = (matrix) =>\n  matrix.files\n    .map (file, fileIndex) =>\n      \"\"\"\n      <tr>\n        #{tableHeading({ scope: 'row' }) file.name}\n        #{\n          matrix.matrix\n            .map (committer) =>\n              cellScore = committer.fileScores[fileIndex].score\n              totalScore = file.totalScore\n              \"<td style='#{scoreCellStyle { cellScore, totalScore }}'>#{cellScore}</td>\"\n            .join '\\n'\n        }\n      </tr>\n      \"\"\"\n    .join '\\n'\n\nscoreCellStyle = ({ cellScore, totalScore }) =>\n  scoreHue = floor ((cellScore / totalScore) * 120)\n  [\n    \"background: hsl(#{scoreHue}, 100%, 40%);\"\n  ].join ''\n\nmodule.exports = {\n  matrixToHtml\n}"
  ]
}